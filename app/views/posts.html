<div class="newsList" ng-controller="MainCtrl">
<h4>News Feed</h4>
<dir-pagination-controls template-url="mods/paging.html"></dir-pagination-controls>
  <ul class="guild-news">
    <li dir-paginate="story in guildAPI.news | itemsPerPage: 10" class="{{story.type}}">
      <div class="achievement" ng-show="{{story.type == 'guildAchievement'}}">
        <a ng-href="http://wowhead.com/achievement={{story.achievement.id}}">{{story.achievement.title}}</a>
        <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
        Earned By <strong>{{story.character}}</strong>
        <time><span am-time-ago="story.timestamp"></span></time>
      </div>
      <div class="achievement" ng-show="{{story.type == 'playerAchievement'}}">
        <a ng-href="http://wowhead.com/achievement={{story.achievement.id}}">{{story.achievement.title}}</a>
        <span class="glyphicon glyphicon-star" aria-hidden="true"></span>
        Earned By <strong>{{story.character}}</strong>
        <time><span am-time-ago="story.timestamp"></span></time>
      </div>
      <div class="itemLooted" ng-show="{{story.type == 'itemLoot'}}">
        <a ng-href="http://wowhead.com/item={{story.itemId}}">{{story.itemId}}</a>
        <span class="glyphicon glyphicon-gift" aria-hidden="true"></span>
        Looted By <strong>{{story.character}}</strong>
        <time><span am-time-ago="story.timestamp"></span></time>
      </div>
      <div class="itemBought" ng-show="{{story.type == 'itemPurchase'}}">
        <a ng-href="http://wowhead.com/item={{story.itemId}}">{{story.itemId}}</a>
        <span class="glyphicon glyphicon-credit-card" aria-hidden="true"></span>
        Purchased By <strong>{{story.character}}</strong>
        <time><span am-time-ago="story.timestamp"></span></time>
      </div>
      <div class="itemCrafted" ng-show="{{story.type == 'itemCraft'}}">
        <a ng-href="http://wowhead.com/item={{story.itemId}}">{{story.itemId}}</a>
        <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span>
        Crafted By <strong>{{story.character}}</strong>
        <time><span am-time-ago="story.timestamp"></span></time>
      </div>
    </li>
  </ul>
</div>

<div style="color: white !important">
  <div class="row" ng-hide="posts">
    <h1>Loading</h1>
  </div>
  <div class="row" ng-show="posts.length == 0">
    <h1>No Posts!</h1>
  </div>
  <ul class="posts">
    <li class="post" id="{{post._id}}" ng-repeat="post in posts | orderBy:'date': true">
      {{ post.date | date: 'MM/dd/yyyy' }}
      <a ng-href="#/blog/edit/{{post._id}}">Edit</a>
      <div class="" ng-bind-html="post.body | markdown"></article>
    </li>
  </ul>

</div>
