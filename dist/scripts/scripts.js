"use strict";angular.module("wowApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch","ngOrderObjectBy","processIDFilter","angularMoment","hc.marked","tien.clndr","backand","ngSanitize","markdown","ui.bootstrap","angularLoad"]).config(["BackandProvider","APP_NAME","BACKAND_TOKEN","BACKAND_SECRET",function(a,b,c,d){a.setAppName(b),a.setSignUpToken(c),a.setAnonymousToken(d)}]).config(["$routeProvider","$locationProvider",function(a,b){function c(b,c,d){a.when(d,{templateUrl:"views/"+b+".html",controller:c})}c("main","MainCtrl","/"),c("roster","RosterCtrl","/roster"),c("about","MainCtrl","/about"),c("404","MainCtrl","/404"),c("blog","BlogCtrl","/blog"),c("calendar","CalCtrl","/calendar"),c("apply","MainCtrl","/apply"),c("rules","MainCtrl","/rules"),a.otherwise({redirectTo:"/404"})}]),angular.module("processIDFilter",[]).filter("processID",function(){return function(a){var b=/-avatar\.[^.]+$/,c=a.toString(),d="",e=c.replace(b,d);return e}}).filter("startFrom",function(){return function(a,b){return a?(b=+b,a.slice(b)):[]}}),angular.module("wowApp").directive("ngShowYear",["$filter",function(a){return{link:function(b,c){c.text(a("date")(new Date,"yyyy"))}}}]).directive("autoActive",["$location",function(a){return{restrict:"A",scope:!1,link:function(b,c){function d(){var b=a.path();b&&angular.forEach(c.find("li"),function(a){var c=a.querySelector("a");c.href.match("#"+b+"(?=\\?|$)")?angular.element(a).addClass("active"):angular.element(a).removeClass("active")})}d(),b.$on("$locationChangeSuccess",d)}}}]),angular.module("wowApp").config(["markedProvider",function(a){a.setOptions({gfm:!0})}]),angular.module("wowApp").factory("ApiService",["$http",function(a){return{get:function(){return a.get("/api")},create:function(b){return a.post("/api",b)},"delete":function(b){return a["delete"]("/api/",+b)}}}]),angular.module("wowApp").constant("APP_NAME","wowapi").constant("API_KEY","kqf7f4abwwnfwbp93m7r6f8nxmerbydm").constant("BASE_URL","https://us.api.battle.net").constant("REALM","Dalaran").constant("GUILD","Seventh Level Save Point").constant("BACKAND_TOKEN","27133402-39d7-4c22-9161-98fe93fce4b1").constant("BACKAND_SECRET","e3b8a7c6-a2b1-4661-b467-c3e62257a852"),angular.module("wowApp").factory("ApiService",["$resource","API_KEY","REALM","GUILD","BASE_URL",function(a,b,c,d,e){return a(e+"/wow/guild/"+c+"/"+d+"?fields=members&locale=en_US&apikey="+b)}]).factory("NewsService",["$resource","API_KEY","REALM","GUILD","BASE_URL",function(a,b,c,d,e){return a(e+"/wow/guild/"+c+"/"+d+"?fields=news&locale=en_US&apikey="+b)}]),angular.module("wowApp").controller("NewsCtrl",["$scope","ApiService","NewsService","filterFilter","angularLoad",function(a,b,c,d,e){var f=c.get();1==a.results,f.$promise.then(function(b){a.newslog=b.news,a.search={},a.resetFilters=function(){a.search={}},a.currentPage=1,a.totalItems=a.newslog.length,a.entryLimit=5,a.noOfPages=Math.ceil(a.totalItems/a.entryLimit),a.$watch("search",function(b,c){a.filtered=d(a.newslog,b),a.totalItems=a.filtered.length,a.noOfPages=Math.ceil(a.totalItems/a.entryLimit),a.currentPage=1,setTimeout(function(){$WowheadPower.refreshLinks()},1),console.log(a.totalItems),0==a.totalItems&&(1==a.results,console.log("true"))},!0),a.$watch("currentPage",function(a){setTimeout(function(){$WowheadPower.refreshLinks()},1)}),setTimeout(function(){$WowheadPower.refreshLinks()},1)})}]).controller("BlogCtrl",["$scope","$log","$http","Backand",function(a,b,c,d){a.$log=b;var e={pageSize:20,pageNumber:1,filter:null,sort:""};c.get(d.getApiUrl()+"/1/objects/posts",e).success(function(b){a.posts=b})}]).controller("PostCtrl",["$route","$scope","$http","Backand","$location",function(a,b,c,d,e){b.title="",b.date="",b.content="",b.imageUrl="",b.postBlog=function(){var a={title:b.title,date:new Date,content:b.content,image:b.imageUrl};c.post(d.getApiUrl()+"/1/objects/posts",a).success(function(a,b){e.path("/#/blog")})}}]),angular.module("wowApp").controller("MainCtrl",["$scope","ApiService",function(a,b){function c(a){for(var b,c,d=a.length;d;b=parseInt(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}var d=b.get();d.$promise.then(function(b){a.members=c(b.members),a.wowData=b,console.log(b)})}]),angular.module("wowApp").controller("CalCtrl",["$scope","$log","$http",function(a,b,c){a.$log=b,a.options={multiDayEvents:{endDate:"end",singleDay:"date",startDate:"start"}},c.get("data/cal.ics").success(function(b){var c=ICAL.parse(b),d=new ICAL.Component(c[2]);a.events=[];var e;for(e=0;e<d.jCal.length;e++){var f=d.jCal[e][1];console.log(f),"mailto:blizzard@dalaran.worldofwarcraft"!=f[9][3]&&a.events.push({title:f[6][3],start:new Date(f[3][3]).getTime(),end:new Date(f[4][3]).getTime(),organizer:f[9][3],location:f[8][3],description:f[7][3]})}})}]),angular.module("wowApp").controller("RosterCtrl",["$scope","ApiService",function(a,b){a.sortType="character.name",a.sortReverse=!1,a.searchFish="";var c=b.get();c.$promise.then(function(b){a.members=b.members})}]),angular.module("wowApp").run(["$templateCache",function(a){a.put("views/404.html","Oh noes! 404!"),a.put("views/about.html",""),a.put("views/apply.html","Google apply form will go here... application rules... instructions for meeting in game. Or could do it in DB."),a.put("views/blog.html",'<div class="newsList border padded" ng-controller="NewsCtrl"> <h3>News Feed</h3> <hr> <label>Filter by Category:</label> <div class="filters" auto-active> <a href="" class="glyphicon glyphicon-star" tooltip-placement="top" uib-tooltip="Player Achievements" ng-class="{\'active\': 1 == states.activeItem}" ng-click="search.type=\'playerAchievement\'; states.activeItem = 1"></a> <a href="" class="glyphicon glyphicon-star" tooltip-placement="top" uib-tooltip="Guild Achievements" ng-class="{\'active\': 2 == states.activeItem}" ng-click="search.type=\'guildAchievement\'; states.activeItem = 2"></a> <a href="" class="glyphicon glyphicon-gift" tooltip-placement="top" uib-tooltip="Items Looted" ng-class="{\'active\': 3 == states.activeItem}" ng-click="search.type=\'itemLoot\'; states.activeItem = 3"></a> <a href="" class="glyphicon glyphicon-credit-card" tooltip-placement="top" uib-tooltip="Items Purchased" ng-class="{\'active\': 4 == states.activeItem}" ng-click="search.type=\'itemPurchase\'; states.activeItem = 4"></a> <a href="" class="glyphicon glyphicon-wrench" tooltip-placement="top" uib-tooltip="Items Crafted" ng-class="{\'active\': 5 == states.activeItem}" ng-click="search.type=\'itemCraft\'; states.activeItem = 5"></a> </div> <p><strong><a href="" ng-click="resetFilters(); states.activeItem = null">Show All</a></strong></p> <hr> <div ng-show="totalItems == 0">No Results!</div> <ul class="guild-news"> <li ng-repeat="story in filtered = newslog | filter:search | startFrom:(currentPage-1)*entryLimit | limitTo:entryLimit" class="{{story.type}}"> <div class="achievement" ng-show="{{story.type == \'guildAchievement\'}}"> <a ng-href="http://wowhead.com/achievement={{story.achievement.id}}">{{story.achievement.title}}</a> <span class="glyphicon glyphicon-star" aria-hidden="true"></span> Earned By <strong>{{story.character}}</strong> <time><span am-time-ago="story.timestamp"></span></time> </div> <div class="achievement" ng-show="{{story.type == \'playerAchievement\'}}"> <a ng-href="http://wowhead.com/achievement={{story.achievement.id}}">{{story.achievement.title}}</a> <span class="glyphicon glyphicon-star" aria-hidden="true"></span> Earned By <strong>{{story.character}}</strong> <time><span am-time-ago="story.timestamp"></span></time> </div> <div class="itemLooted" ng-show="{{story.type == \'itemLoot\'}}"> <a ng-href="http://wowhead.com/item={{story.itemId}}">{{story.itemId}}</a> <span class="glyphicon glyphicon-gift" aria-hidden="true"></span> Looted By <strong>{{story.character}}</strong> <time><span am-time-ago="story.timestamp"></span></time> </div> <div class="itemBought" ng-show="{{story.type == \'itemPurchase\'}}"> <a ng-href="http://wowhead.com/item={{story.itemId}}">{{story.itemId}}</a> <span class="glyphicon glyphicon-credit-card" aria-hidden="true"></span> Purchased By <strong>{{story.character}}</strong> <time><span am-time-ago="story.timestamp"></span></time> </div> <div class="itemCrafted" ng-show="{{story.type == \'itemCraft\'}}"> <a ng-href="http://wowhead.com/item={{story.itemId}}">{{story.itemId}}</a> <span class="glyphicon glyphicon-wrench" aria-hidden="true"></span> Crafted By <strong>{{story.character}}</strong> <time><span am-time-ago="story.timestamp"></span></time> </div> </li> </ul> <div ng-hide="totalItems <= entryLimit"> {{currentPage}} / {{noOfPages}} <uib-pager total-items="totalItems" ng-model="currentPage"></uib-pager> </div> </div> <div class="blog border padded"> <h3>Blog</h3> <hr> <article ng-repeat="post in posts.data | orderBy : post.id : true"> <h2 ng-bind-html="post.title"></h2> <span class="meta">{{post.user}}</span> <span class="meta">Posted on: {{post.date | date}}</span> <img ng-src="{{post.image}}" ng-show="post.image.length" class="header-image"> <div ng-bind-html="post.content"></div> </article> </div>'),a.put("views/calendar.html",'<div class="calendar border padded"> <h3>Calendar</h3> <hr> <tien-clndr class="clndr" tien-clndr-object="clndr" tien-clndr-events="events" tien-clndr-options="options" id="full-clndr"> <div class="clndr-controls"> <div class="clndr-previous-button" ng-click="clndr.back()">&lt;</div> <div class="clndr-next-button" ng-click="clndr.forward()">&gt;</div> <div class="current-month">{{month}} {{year}}</div> </div> <div class="clndr-grid"> <div class="days-of-the-week"> <div class="header-day" ng-repeat="day in daysOfTheWeek track by $index"> {{day}} </div> </div> <div class="days"> <div class="{{day.classes}}" ng-repeat="day in days"> <div class="event-indicator" ng-show="day.events.length">{{day.events.length}}</div> {{day.day}} </div> </div> </div> <div class="event-listing"> <div class="event-listing-title">UPCOMING EVENTS IN {{month | uppercase}}</div> <div class="event-item" ng-repeat="event in clndr.eventsThisInterval track by $index" ng-show="clndr.eventsThisInterval.length != 0"> <div class="blizard-event" style="background: pink" ng-show="event.organizer == \'mailto:blizzard@dalaran.worldofwarcraft\'"> <time ng-show="event.start">{{event.start | date : \'MMM dd @ h a\'}} <div ng-hide="event.start == event.end">- {{event.end | date : \'h a\'}}</div></time> <time ng-show="event.date">{{event.date | date : \'MMM dd\'}}</time> <div class="event-item-name">{{event.title}}</div> </div> <div class="guild-event" ng-show="event.organizer != \'mailto:blizzard@dalaran.worldofwarcraft\'"> <time ng-show="event.start">{{event.start | date : \'MMM dd @ h a\'}} <div ng-hide="event.start == event.end">- {{event.end | date : \'h a\'}}</div></time> <time ng-show="event.date">{{event.date | date : \'MMM dd\'}} - </time> <div class="event-item-name"><strong>{{event.title}}</strong></div> <div class="event-item-location" ng-hide="event.location == \'\'">{{event.location}}</div> <div class="event-item-description" ng-hide="event.description == \'\'">{{event.description}}</div> </div> </div> <div class="events-none" ng-show="clndr.eventsThisInterval.length == 0"> <h1>No Events</h1> </div> </div> </tien-clndr> <div style="clear:both"></div> </div>'),a.put("views/main.html",'<div class="quickStats border padded"> <h3>About</h3> <hr> <img src="/images/ui/paladin.jpg"> <span class="mission-statement"> <h3> <strong class="special">{{wowData.name}}</strong> is a World of Warcraft raiding and social guild on the <a ng-href="https://realmpop.com/us-dalaran.html">US {{wowData.realm}}</a> server, and fight for the Alliance Faction. We are focused towards end game PvE progression and preparing for upcoming content and patches. </h3> </span> </div> <div class="memberList"> <div class="alert alert-special"> We are currently accepting applications to fill our roster for our Weekly Raid Schedule. For more details and to find out how to apply, visit our application page. <a ng-href="/#/apply" class="btn btn-block btn-primary" style="margin-top: 15px">Apply Now!</a> </div> </div> <div class="memberList border padded"> <h3>Raid Schedule</h3> <hr> <a ng-href="/#/calendar" class="btn btn-primary btn-gold btn-block">View Full Calendar</a> </div> <div class="memberList border padded"> <h3>Randomizer</h3> <hr> <ul class="roster-window"> <li ng-repeat="member in members.slice(0, 3)" ng-style="{\'background-image\' : \'url(http://render-api-us.worldofwarcraft.com/static-render/us/\' + (member.character.thumbnail | processID) + \'-profilemain.jpg)\'}"> <h3>{{member.character.name | limitTo : \'10\'}}<span ng-if="member.character.name.length > 10">...</span></h3> <img class="wRank" ng-src="images/ranks/{{member.rank}}.png"> </li> </ul> </div>'),a.put("views/new.html",'<div class="row"> <h1>What\'s on your mind?</h1> <p> <a href="#">Write using Markdown.</a> </p> </div> <form ng-submit="submit()"> <div class="form-group"> <textarea ng-model="post.body" autofocus style="width:100%; height:300px">\n    </textarea> </div> <div class="checkbox"> <label> <input type="checkbox" ng-model="post.status" ng-init="true"> <span>Publish?</span> </label> </div> <button class="btn btn-success" type="submit">Save</button></form>'),a.put("views/post.html",'<div ng-controller="PostCtrl"> <form ng-submit="postBlog()"> <input ng-model="title"> <input ng-model="imageUrl"> <textarea ng-model="content"></textarea> <button type="submit">Post</button> </form></div>'),a.put("views/roster.html",'<div class="roster padded border"> <h3>Current Roster</h3> <hr> <!--\n  <div class="alert alert-info">\n    <p>Sort Type: {{ sortType }}</p>\n    <p>Sort Reverse: {{ sortReverse }}</p>\n    <p>Search Query: {{ searchDb }}</p>\n  </div>\n --> <form> <div class="form-group"> <div class="input-group"> <div class="input-group-addon"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></div> <input type="text" class="form-control" placeholder="Search Roster..." ng-model="searchDb"> </div> </div> </form> <div class="border"> <table> <thead> <tr> <th>•</th> <th> <a ng-click="sortType = \'character.name\'; sortReverse = !sortReverse"> Name <span ng-show="sortType == \'character.name\' && sortReverse" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> <span ng-show="sortType == \'character.name\' && !sortReverse" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> </a> </th> <th> <a ng-click="sortType = \'rank\'; sortReverse = !sortReverse"> Rank <span ng-show="sortType == \'rank\' && sortReverse" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> <span ng-show="sortType == \'rank\' && !sortReverse" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> </a> </th> <th> <a ng-click="sortType = \'character.race\'; sortReverse = !sortReverse"> Race <span ng-show="sortType == \'character.race\' && sortReverse" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> <span ng-show="sortType == \'character.race\' && !sortReverse" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> </a> </th> <th> <a ng-click="sortType = \'character.class\'; sortReverse = !sortReverse"> Class <span ng-show="sortType == \'character.class\' && sortReverse" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> <span ng-show="sortType == \'character.class\' && !sortReverse" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> </a> </th> <th> <a ng-click="sortType = \'character.spec.name\'; sortReverse = !sortReverse"> Spec <span ng-show="sortType == \'character.spec.name\' && sortReverse" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> <span ng-show="sortType == \'character.spec.name\' && !sortReverse" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> </a> </th> <th> <a ng-click="sortType = \'character.level\'; sortReverse = !sortReverse"> Level <span ng-show="sortType == \'character.level\' && sortReverse" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> <span ng-show="sortType == \'character.level\' && !sortReverse" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> </a> </th> <th> <a ng-click="sortType = \'character.achievementPoints\'; sortReverse = !sortReverse"> Achievement Points <span ng-show="sortType == \'character.achievementPoints\' && sortReverse" class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> <span ng-show="sortType == \'character.achievementPoints\' && !sortReverse" class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span> </a> </th> </tr><tr> </tr></thead> <tbody> <tr ng-repeat="member in members | orderBy:sortType:sortReverse  | filter:searchDb"> <td><img ng-src="//us.battle.net/static-render/us/{{member.character.thumbnail}}"></td> <td>{{member.character.name | limitTo : \'10\'}}</td> <td><img class="wRank" ng-src="images/ranks/{{member.rank}}.png"></td> <td><a ng-href="//wowhead.com/race={{member.character.race}}"><img class="wRace" ng-src="images/races/{{member.character.gender}}{{member.character.race}}.png"></a></td> <td><a ng-href="//wowhead.com/class={{member.character.class}}"><img class="wClass" ng-src="images/class/64/{{member.character.class}}.png"></a></td> <td><a ng-href="//wowhead.com/class={{member.character.class}}"><img class="wSpec" ng-src="images/spec/{{member.character.class}}/{{member.character.spec.name | lowercase}}.png"></a></td> <td>{{member.character.level}}</td> <td>{{member.character.achievementPoints | number}}<img src="images/ui/sheild.png"></td> </tr> </tbody> </table> </div> </div>'),a.put("views/rules.html",'<div class="border padded rules"><marked> ### Core Rules ---- #### **Seventh Level Save Point** only accepts members into its ranks that are of similar personalities, goals and values to its own. All of our members support and follow our core guild rules and anyone who cannot, is removed. Our core rules include, but are not limited to: - **Guild First: We expect all members to ensure that all actions they take are done in the mindset of \'guild first\'.** Anything a member does reflects on the overall guild image and on all fellow members. We expect members to only take actions that reflect positively on the guild image that we have worked very hard to build and maintain over the years. - **We recruit the PERSON not the TOON.** We look for good PEOPLE not only a toon that meets a specific set of requirements. As such members of **Seventh Level Save Point** cannot be a member of any other guild that has a branch of their guild in any game we play. Membership in another guild, in games we do not play, is permitted with some caveats (ex: you could not be in a guild that was a cheater/exploiter guild in one game and in a game we play espouse to uphold our high values in that area.) - **It is not permitted to relay any information outside the guild, for any reason, at any time.** **Seventh Level Save Point** is a private gaming organization. We do not share information with the public except through official channels and officially sanctioned outlets. Therefore no member should reveal any information, no matter how minor they may think it is, outside the guild. - Participate In Guild Events. Hunts, Raids, Events and other in game activities occur all the time. You are expected to take place in as many of them as possible. We understand people have lives and cannot live within the online world and that is ok. But if you are online, and we are having a guild event of some sort, you need to be there and participating in it. Actively working against the guild on any mission will result in immediate and permanent removal. - Leadership roles in **Seventh Level Save Point** are decided based on demonstrated ability as well as the need for a leader in a particular spot. You can be assured that your leaders are working hard to make the game more fun for you. While the reason behind every decision may not always be apparent at the moment an order is issued, all orders from officers need to be immediately followed. If errors are made, they should be reported to Dragons where they will be dealt with and, if needed, changes made to the officer team. Absent those changes, all officers should be listened to as though it was Dragons issuing the order. - We are a TEAM of FRIENDS. Backing up your guildmates is expected because they will do the same for you. Syndicate members understand that sometimes personal character sacrifice is needed for the team to complete a mission. We dont view it as personal sacrifice, however, because we are helping out a friend and that is more important than loot or pixels on a screen. Games come and go. **Seventh Level Save Point** and the friendships within it, remain. - Deadweight is not needed in the guild. Failure to maintain an acceptable level of activity will result in your removal. We do have an "inactive" status for members who are retired from games we play and wish to join us in future games. For those active in games, we expect them to read our posting forum Daily for our updates. We expect at least 1 email per week to the Guildmaster and their squad leader to keep them informed of your progress and any issues, ideas, feedback etc.. that you have. Simply vanishing off the face of the earth without any email indicating you wish to go to inactive status is taken as a sign you have quit the guild and membership is removed. - Members who cannot follow core rules and standards, are removed from the guild. ### Standards Of Conduct ---- #### These standards go hand in hand with our core guild rules but they bear repeating so all future members understand what we expect from members. Those standards of conduct include, but are not limited to: - Members may not use cheats or exploits - Members may not Pkill/murder other players. Consensual pvp is permitted, encouraged and a fun aspect of the guild. - Upholding of all guild values and rules is required of all members. There are no exceptions whether you are a member for 10 days or 10 years. All members must maintain the values of the guild. - Members need to behave in a mature, professional, team focused manner. Self focused, loot focused, immature people will not be tolerated - Make friends in the guild. At our core we are a Team Of Friends. So make friends. Those friendships make us strong. - Any issues with guild policies are brought directly to Dragons, 1 on 1, via email. Publically bashing or complaining about them is not tolerated. - Personal attacks on other members is not permitted. Handle issues with another player 1 on 1, in a mature professional way. Seek an officers help if needed but do not personally attack other members. - Backstabbing, looting, stealing from, scamming or otherwise harming other members is not permitted. It all goes back to our core value that we are a team of friends. - Profanity.. sexual content.. and obscene content are not needed or permitted in guild channels in game, in IRC or on the chatzone. - If a guild officer tells you to do something, do it immediately. Do not argue or complain to them and definitely do not get nasty with them or removal will occur and you can explain to Dragons why you had to behave that way and should be let back in. </marked> </div>'),a.put("views/signup.html","")}]);